<div class="comments-section" *ngIf="service" [@enterAnimation]>
  <div class="title">
    <h3>{{ service.summary }}</h3>
    <button (click)="service = null; close.emit(null)">
      <img src="../../assets/exit.png" alt="" />
    </button>
  </div>
  <div class="rating-result">
    <span [class.active]="service.rating_quantity > 0"></span>
    <span [class.active]="service.rating_quantity > 1"></span>
    <span [class.active]="service.rating_quantity > 2"></span>
    <span [class.active]="service.rating_quantity > 3"></span>
    <span [class.active]="service.rating_quantity > 4"></span>
  </div>

  <div class="images">
    <div class="types-waste-img" *ngIf="service.type === 'Plastic'"> 
      <img src="../../assets/types-of-waste-img/plastic.jpg" alt="plactic">
    </div>
    <div class="types-waste-img" *ngIf="service.type === 'Metal'"> 
      <img src="../../assets/types-of-waste-img/metal.jpg" alt="metal">
    </div>
    <div class="types-waste-img" *ngIf="service.type === 'Paper'"> 
      <img src="../../assets/types-of-waste-img/paper.jpg" alt="paper">
    </div>
    <div class="types-waste-img" *ngIf="service.type === 'Batteries'"> 
      <img src="../../assets/types-of-waste-img/batteries.jpg" alt="batteries">
    </div>
    <div class="types-waste-img" *ngIf="service.type === 'Glass'"> 
      <img src="../../assets/types-of-waste-img/glass.jpg" alt="glass">
    </div>
    <div class="types-waste-img" *ngIf="service.type === 'Clothes'"> 
      <img src="../../assets/types-of-waste-img/clothes.jpg" alt="clothes">
    </div>
    <div class="types-waste-img" *ngIf="service.type === 'Light-bulbs'"> 
      <img src="../../assets/types-of-waste-img/light-bulbs.jpg" alt="light-bulds">
    </div>
    <div class="types-waste-img" *ngIf="service.type === 'E-Waste'"> 
      <img src="../../assets/types-of-waste-img/e-waste.jpg " alt="e-waste">
    </div>
    <div class="types-waste-img" *ngIf="service.type === 'Organic'"> 
      <img src="../../assets/types-of-waste-img/organic.jpg" alt="organic">
    </div>
  </div>

  <p class="types-of-sort"><span>Type of waste: </span>{{service.type}}</p>

  <div class="options">
    <div>

      <img id="btn" src="../../assets/phone.png" width="24" height="24" />
    </div>

    <div>

      <img src="../../assets/letter.png" width="27" height="20" />
    </div>

    <div>

      <img src="../../assets/net.png" width="25" height="24" />
    </div>

  </div>

  <p class="adress"><span>Adress: </span>{{service.address}}</p>

 
  <div class="comments-block">
    <h4>Comments</h4>
    
    <div class="comments-list" #list>
      
      <div class="comment" *ngFor="let comment of service.comments">
          <p>{{comment.content}}</p>
          <div>{{comment.created_at | date: "HH:mm, dd, MMM, Y"}}</div>
      </div>
    </div>

    <form [formGroup]="form">
      <div class="comment-send">
        <div class="comment-send-header">
          <div class="star">

            <div class="rating-area">
              <input type="radio" id="star-5" name="rating" value="5">
              <label for="star-5" title="Оценка «5»"></label>	
              <input type="radio" id="star-4" name="rating" value="4">
              <label for="star-4" title="Оценка «4»"></label>    
              <input type="radio" id="star-3" name="rating" value="3">
              <label for="star-3" title="Оценка «3»"></label>  
              <input type="radio" id="star-2" name="rating" value="2">
              <label for="star-2" title="Оценка «2»"></label>    
              <input type="radio" id="star-1" name="rating" value="1">
              <label for="star-1" title="Оценка «1»"></label>
            </div>

          </div>
          <button (click)="sendComment()" [disabled]="!form.valid">
            <img src="../../assets/send-comment .png">
          </button>
        </div>
        <div *ngIf = "form.invalid && form.get('content')?.touched" class="invalid-form">* Your comment must have min 3 letters.</div>
        <div>
          <textarea  placeholder="Write comment..." formControlName="content"> </textarea>
        </div>
      </div>
      
    </form>
  </div>

</div>